import 'dart:io';import 'package:cloud_firestore/cloud_firestore.dart';import 'package:driver/Firebase/controller/image_picker_controller/pick_image.dart';import 'package:driver/Firebase/controller/verification_controller/documnets_controller.dart';import 'package:driver/utilitys/colors.dart';import 'package:driver/widgets/appButton.dart';import 'package:driver/widgets/app_toast.dart';import 'package:firebase_auth/firebase_auth.dart';import 'package:flutter/material.dart';import 'package:font_awesome_flutter/font_awesome_flutter.dart';import 'package:image_picker/image_picker.dart';class AccountVerification extends StatefulWidget {  const AccountVerification({Key? key}) : super(key: key);  @override  State<AccountVerification> createState() => _AccountVerificationState();}class _AccountVerificationState extends State<AccountVerification> {  File? drivingLicense;  bool _isloading = false;  @override  Widget build(BuildContext context) {    return Scaffold(      backgroundColor: AppColors.mainBg,      appBar: AppBar(        backgroundColor: Color(0xffF3F3F3),        elevation: 0,        title: const Text("Account Verification Center",          style: TextStyle(              color: AppColors.black,              fontSize: 19          ),        ),        leading: InkWell(            onTap: ()=>Navigator.pop(context),            child: Container(              width: 40,              height: 40,              margin: EdgeInsets.all(10),              decoration: BoxDecoration(                color: Color(0xffD9D9D9),                borderRadius: BorderRadius.circular(5),              ),              child: Center(                child: Icon(Icons.arrow_back, color: AppColors.black, size: 20,),              ),            )),      ),      body: SingleChildScrollView(        padding: EdgeInsets.all(20),        child: Column(          mainAxisAlignment: MainAxisAlignment.start,          crossAxisAlignment: CrossAxisAlignment.start,          children: [            Text("Upload you driving license",              style: TextStyle(                fontWeight: FontWeight.w600,                fontSize: 30,              ),            ),            SizedBox(height: 20,),            InkWell(                onTap: ()async {                  //pick image                   await takenImage(ImageSource.camera).then((value) => setState(()=>drivingLicense = value));                },                child: Container(              height: 300,              width: double.infinity,              padding: EdgeInsets.all(10),              decoration: BoxDecoration(                color: AppColors.white,                boxShadow: [                  BoxShadow(color: Colors.grey.shade200, spreadRadius: 3, blurRadius: 5),                ],                borderRadius: BorderRadius.circular(10)              ),              child: drivingLicense != null                   ? Image.file(drivingLicense!) : Column(                mainAxisAlignment: MainAxisAlignment.center,                crossAxisAlignment: CrossAxisAlignment.center,                children: [                  FaIcon(Icons.document_scanner, color: Colors.deepPurpleAccent.withOpacity(0.5), size: 100,),                  SizedBox(height: 10,),                  Text("Upload your Driving License ",                    style: TextStyle(                      fontSize: 14,                      fontWeight: FontWeight.w600,                      color: Colors.black38                    ),                  ),                  SizedBox(height: 2,),                  Text("(ex: .jpeg, .png, .jpg etc)",                    style: TextStyle(                      fontSize: 14,                      fontWeight: FontWeight.w600,                      color: Colors.black38                    ),                  )                ],              ),            )),            SizedBox(height: 20,),            Text("Note: ",                style: TextStyle(                  fontWeight: FontWeight.w600,                  fontSize: 16,                ),            ),            SizedBox(height: 5,),            Text("1. Upload a clear picture",              style: TextStyle(                fontWeight: FontWeight.w400,                fontSize: 15,              ),            ),            SizedBox(height: 5,),            Text("2. Make sure every corner should be visable. ",              style: TextStyle(                fontWeight: FontWeight.w400,                fontSize: 15,              ),            ),            SizedBox(height: 5,),            Text("3. Upload full picture",              style: TextStyle(                fontWeight: FontWeight.w400,                fontSize: 15,              ),            ),            SizedBox(height: 30,),            AppButton(              text: "Upload Documents",              onClick: (){                setState(() => _isloading = true);                if(drivingLicense != null){                  getImagePath(path: drivingLicense!).then((value)async{                    await DocumentsController.uploadDocuments(path: value, context: context);                  });                }else{                  AppToast(text: "Please upload your documents first.", color: Colors.red);                }                setState(() => _isloading = false);              },              isLoading: _isloading,              fontSize: 14,            )          ],        ),      ),    );  }}